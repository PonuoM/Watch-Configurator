# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ Subcategories (‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏¢‡πà‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô) ‚úÖ

## ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**Subcategory** = ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏¢‡πà‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ **Part Group** ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ **SKU**

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:

```
SKU: Daytona
‚îú‚îÄ‚îÄ Part Group: bracelet (‡∏™‡∏≤‡∏¢‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤)
‚îÇ   ‚îú‚îÄ‚îÄ Subcategory: "‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å" üñºÔ∏è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 1
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 3
‚îÇ   ‚îú‚îÄ‚îÄ Subcategory: "‡∏™‡∏≤‡∏¢‡∏´‡∏ô‡∏±‡∏á" üñºÔ∏è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 1
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2
‚îÇ   ‚îî‚îÄ‚îÄ Subcategory: "‡∏™‡∏≤‡∏¢‡∏¢‡∏≤‡∏á" üñºÔ∏è
‚îÇ       ‚îî‚îÄ‚îÄ ‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 1
‚îú‚îÄ‚îÄ Part Group: dial (‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î)
‚îÇ   ‚îú‚îÄ‚îÄ Subcategory: "‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡∏î‡∏≥" üñºÔ∏è
‚îÇ   ‚îú‚îÄ‚îÄ Subcategory: "‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß" üñºÔ∏è
‚îÇ   ‚îî‚îÄ‚îÄ Subcategory: "‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô" üñºÔ∏è
‚îî‚îÄ‚îÄ Part Group: hands (‡πÄ‡∏Ç‡πá‡∏°)
    ‚îú‚îÄ‚îÄ Subcategory: "‡πÄ‡∏Ç‡πá‡∏°‡∏™‡∏µ‡πÄ‡∏á‡∏¥‡∏ô" üñºÔ∏è
    ‚îî‚îÄ‚îÄ Subcategory: "‡πÄ‡∏Ç‡πá‡∏°‡∏™‡∏µ‡∏ó‡∏≠‡∏á" üñºÔ∏è
```

‡πÅ‡∏ï‡πà‡∏•‡∏∞ Subcategory ‡∏à‡∏∞‡∏°‡∏µ:
- **‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á** (`image_url`) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ index
- **‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ** (assets) ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏≠‡∏¢‡∏π‡πà

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á subcategories

```sql
subcategories (
  id UUID PRIMARY KEY,
  sku_id TEXT REFERENCES skus(id),           -- ‡πÄ‡∏ä‡πà‡∏ô "daytona"
  group_key TEXT REFERENCES part_groups(key), -- ‡πÄ‡∏ä‡πà‡∏ô "bracelet"
  name TEXT NOT NULL,                         -- ‡πÄ‡∏ä‡πà‡∏ô "‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å"
  image_url TEXT,                             -- ‡∏£‡∏π‡∏õ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô index
  sort_order INT DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT now(),
  
  UNIQUE (sku_id, group_key, name)            -- ‡∏´‡πâ‡∏≤‡∏°‡∏ã‡πâ‡∏≥
)
```

### ‡∏ï‡∏≤‡∏£‡∏≤‡∏á assets (‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö subcategory)

```sql
assets (
  id UUID PRIMARY KEY,
  sku_id TEXT REFERENCES skus(id),
  group_key TEXT REFERENCES part_groups(key),
  subcategory_id UUID REFERENCES subcategories(id), -- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö subcategory
  label TEXT,
  url TEXT NOT NULL,
  sort INT DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT now()
)
```

## ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß

### SKU: Daytona

| Part Group | Subcategory | ‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ó‡∏ô |
|------------|-------------|----------|
| ‡∏™‡∏≤‡∏¢‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (bracelet) | ‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å | - |
| ‡∏™‡∏≤‡∏¢‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (bracelet) | ‡∏™‡∏≤‡∏¢‡∏´‡∏ô‡∏±‡∏á | - |
| ‡∏™‡∏≤‡∏¢‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (bracelet) | ‡∏™‡∏≤‡∏¢‡∏¢‡∏≤‡∏á | - |
| ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î (dial) | ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡∏î‡∏≥ | - |
| ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î (dial) | ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß | - |
| ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î (dial) | ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô | - |
| ‡πÄ‡∏Ç‡πá‡∏° (hands) | ‡πÄ‡∏Ç‡πá‡∏°‡∏™‡∏µ‡πÄ‡∏á‡∏¥‡∏ô | - |
| ‡πÄ‡∏Ç‡πá‡∏° (hands) | ‡πÄ‡∏Ç‡πá‡∏°‡∏™‡∏µ‡∏ó‡∏≠‡∏á | - |

### SKU: Submarine

| Part Group | Subcategory | ‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ó‡∏ô |
|------------|-------------|----------|
| ‡∏™‡∏≤‡∏¢‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (bracelet) | ‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å | - |
| ‡∏™‡∏≤‡∏¢‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤ (bracelet) | ‡∏™‡∏≤‡∏¢‡∏´‡∏ô‡∏±‡∏á | - |
| ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î (dial) | ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡∏î‡∏≥ | - |
| ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î (dial) | ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏î‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß | - |
| ‡πÄ‡∏Ç‡πá‡∏° (hands) | ‡πÄ‡∏Ç‡πá‡∏°‡∏™‡∏µ‡πÄ‡∏á‡∏¥‡∏ô | - |
| ‡πÄ‡∏Ç‡πá‡∏° (hands) | ‡πÄ‡∏Ç‡πá‡∏°‡∏™‡∏µ‡∏ó‡∏≠‡∏á | - |

## ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. ‡∏î‡∏π Subcategories ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á SKU

```sql
SELECT 
  s.name as sku,
  pg.name_th as part_group,
  sc.id,
  sc.name as subcategory,
  sc.image_url,
  sc.sort_order
FROM subcategories sc
JOIN skus s ON sc.sku_id = s.id
JOIN part_groups pg ON sc.group_key = pg.key
WHERE s.id = 'daytona'
ORDER BY pg.sort_order, sc.sort_order;
```

### 2. ‡∏î‡∏π Subcategories ‡∏Ç‡∏≠‡∏á Part Group ‡πÄ‡∏â‡∏û‡∏≤‡∏∞

```sql
-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: ‡∏î‡∏π subcategories ‡∏Ç‡∏≠‡∏á bracelet ‡πÉ‡∏ô daytona
SELECT id, name, image_url, sort_order
FROM subcategories
WHERE sku_id = 'daytona' AND group_key = 'bracelet'
ORDER BY sort_order;
```

### 3. ‡∏™‡∏£‡πâ‡∏≤‡∏á Subcategory ‡πÉ‡∏´‡∏°‡πà

```sql
INSERT INTO subcategories (sku_id, group_key, name, image_url, sort_order)
VALUES (
  'daytona',
  'bracelet',
  '‡∏™‡∏≤‡∏¢‡∏ú‡πâ‡∏≤',
  'https://your-storage-url/subcategory-images/bracelet-fabric.png',
  4
);
```

### 4. ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á Subcategory

```sql
UPDATE subcategories
SET image_url = 'https://your-storage-url/subcategory-images/bracelet-steel.png'
WHERE sku_id = 'daytona' 
  AND group_key = 'bracelet' 
  AND name = '‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å';
```

### 5. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏Ç‡πâ‡∏≤ Subcategory

```sql
-- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏´‡∏≤ subcategory_id
SELECT id FROM subcategories 
WHERE sku_id = 'daytona' 
  AND group_key = 'bracelet' 
  AND name = '‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å';

-- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ (‡πÉ‡∏ä‡πâ id ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô)
INSERT INTO assets (sku_id, group_key, subcategory_id, label, url, sort)
VALUES (
  'daytona',
  'bracelet',
  'YOUR_SUBCATEGORY_UUID_HERE',
  '‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà 1',
  'https://your-storage-url/assets/bracelet-steel-1.png',
  1
);
```

### 6. ‡∏î‡∏π‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á Subcategory

```sql
-- ‡πÉ‡∏ä‡πâ View ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ
SELECT * FROM assets_with_subcategory
WHERE sku_id = 'daytona' 
  AND group_key = 'bracelet'
  AND subcategory_name = '‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å'
ORDER BY sort;
```

### 7. ‡∏™‡∏£‡∏∏‡∏õ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Subcategories ‡πÅ‡∏ï‡πà‡∏•‡∏∞ Part Group

```sql
SELECT 
  s.name as sku,
  pg.name_th as part_group,
  COUNT(sc.id) as subcategory_count
FROM part_groups pg
CROSS JOIN skus s
LEFT JOIN subcategories sc 
  ON sc.sku_id = s.id AND sc.group_key = pg.key
GROUP BY s.name, pg.name_th, pg.sort_order
ORDER BY s.name, pg.sort_order;
```

### 8. ‡∏´‡∏≤ Subcategories ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡πÅ‡∏ó‡∏ô

```sql
SELECT 
  s.name as sku,
  pg.name_th as part_group,
  sc.name as subcategory
FROM subcategories sc
JOIN skus s ON sc.sku_id = s.id
JOIN part_groups pg ON sc.group_key = pg.key
WHERE sc.image_url IS NULL
ORDER BY s.name, pg.sort_order, sc.sort_order;
```

### 9. ‡∏´‡∏≤ Subcategories ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û assets

```sql
SELECT 
  s.name as sku,
  pg.name_th as part_group,
  sc.name as subcategory,
  COUNT(a.id) as asset_count
FROM subcategories sc
JOIN skus s ON sc.sku_id = s.id
JOIN part_groups pg ON sc.group_key = pg.key
LEFT JOIN assets a ON a.subcategory_id = sc.id
GROUP BY s.name, pg.name_th, sc.name, pg.sort_order, sc.sort_order
HAVING COUNT(a.id) = 0
ORDER BY s.name, pg.sort_order, sc.sort_order;
```

## ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Frontend

### ‡πÉ‡∏ô index.html - ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Subcategories

```javascript
// ‡πÇ‡∏´‡∏•‡∏î subcategories ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SKU ‡πÅ‡∏•‡∏∞ Part Group
async function loadSubcategories(skuId, groupKey) {
  const { data, error } = await supabase
    .from('subcategories')
    .select(`
      id,
      name,
      image_url,
      sort_order
    `)
    .eq('sku_id', skuId)
    .eq('group_key', groupKey)
    .order('sort_order');
  
  if (error) {
    console.error('Error loading subcategories:', error);
    return [];
  }
  
  return data;
}

// ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏•‡∏∞ subcategory ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
function renderSubcategoryList(subcategories) {
  const container = document.getElementById('subcategory-list');
  
  const html = subcategories.map(sc => `
    <div class="subcategory-item" data-id="${sc.id}">
      ${sc.image_url ? 
        `<img src="${sc.image_url}" alt="${sc.name}" class="subcategory-image" />` 
        : ''}
      <span class="subcategory-name">${sc.name}</span>
    </div>
  `).join('');
  
  container.innerHTML = html;
}

// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å subcategory ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û assets
document.addEventListener('click', async (e) => {
  const item = e.target.closest('.subcategory-item');
  if (!item) return;
  
  const subcategoryId = item.dataset.id;
  await loadAssetsForSubcategory(subcategoryId);
});

async function loadAssetsForSubcategory(subcategoryId) {
  const { data, error } = await supabase
    .from('assets')
    .select('*')
    .eq('subcategory_id', subcategoryId)
    .order('sort');
  
  if (error) {
    console.error('Error loading assets:', error);
    return;
  }
  
  // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏™‡πà‡∏ß‡∏ô
  renderAssetThumbnails(data);
}
```

### ‡πÉ‡∏ô admin.html - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Subcategories

```javascript
// ‡∏™‡∏£‡πâ‡∏≤‡∏á Subcategory ‡πÉ‡∏´‡∏°‡πà
async function createSubcategory(skuId, groupKey, name, imageFile) {
  // 1. ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Å‡πà‡∏≠‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
  let imageUrl = null;
  if (imageFile) {
    const fileName = `subcategory-${skuId}-${groupKey}-${Date.now()}.png`;
    const { data: uploadData, error: uploadError } = await supabase
      .storage
      .from('watch-assets')
      .upload(`subcategory-images/${fileName}`, imageFile);
    
    if (uploadError) {
      console.error('Upload error:', uploadError);
      return;
    }
    
    imageUrl = supabase.storage
      .from('watch-assets')
      .getPublicUrl(`subcategory-images/${fileName}`).data.publicUrl;
  }
  
  // 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á subcategory
  const { data, error } = await supabase
    .from('subcategories')
    .insert({
      sku_id: skuId,
      group_key: groupKey,
      name: name,
      image_url: imageUrl,
      sort_order: 999 // ‡∏à‡∏∞ update ‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á
    })
    .select()
    .single();
  
  if (error) {
    console.error('Error creating subcategory:', error);
    return;
  }
  
  console.log('Subcategory created:', data);
  return data;
}

// ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏Ç‡πâ‡∏≤ Subcategory
async function uploadAssetToSubcategory(subcategoryId, imageFile, label) {
  // 1. ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• subcategory
  const { data: sc, error: scError } = await supabase
    .from('subcategories')
    .select('sku_id, group_key')
    .eq('id', subcategoryId)
    .single();
  
  if (scError) {
    console.error('Error fetching subcategory:', scError);
    return;
  }
  
  // 2. ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå
  const fileName = `${sc.sku_id}/${sc.group_key}/${Date.now()}-${imageFile.name}`;
  const { data: uploadData, error: uploadError } = await supabase
    .storage
    .from('watch-assets')
    .upload(fileName, imageFile);
  
  if (uploadError) {
    console.error('Upload error:', uploadError);
    return;
  }
  
  const url = supabase.storage
    .from('watch-assets')
    .getPublicUrl(fileName).data.publicUrl;
  
  // 3. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á assets
  const { data: asset, error: assetError } = await supabase
    .from('assets')
    .insert({
      sku_id: sc.sku_id,
      group_key: sc.group_key,
      subcategory_id: subcategoryId,
      label: label || 'New Asset',
      url: url,
      sort: 999
    })
    .select()
    .single();
  
  if (assetError) {
    console.error('Error creating asset:', assetError);
    return;
  }
  
  console.log('Asset uploaded:', asset);
  return asset;
}
```

## UI Flow ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ index.html

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:

1. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å SKU** (‡πÄ‡∏ä‡πà‡∏ô Daytona)
   
2. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Part Group** (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏≤‡∏¢‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤)
   
3. **‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ Subcategories ‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î:**
   ```
   üñºÔ∏è ‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å
   üñºÔ∏è ‡∏™‡∏≤‡∏¢‡∏´‡∏ô‡∏±‡∏á
   üñºÔ∏è ‡∏™‡∏≤‡∏¢‡∏¢‡∏≤‡∏á
   ```

4. **‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Subcategory** (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏≤‡∏¢‡πÄ‡∏´‡∏•‡πá‡∏Å)
   
5. **‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô Subcategory ‡∏ô‡∏±‡πâ‡∏ô:**
   ```
   [‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 1] [‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 2] [‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 3]
   ```

6. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ô‡∏≤‡∏¨‡∏¥‡∏Å‡∏≤**

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á Subcategories

```css
.subcategory-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 16px;
}

.subcategory-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
}

.subcategory-item:hover {
  border-color: #bfa888;
  background: #f9fafb;
}

.subcategory-item.active {
  border-color: #bfa888;
  background: #fef3e2;
}

.subcategory-image {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 4px;
}

.subcategory-name {
  font-size: 16px;
  font-weight: 500;
  color: #1f2937;
}
```

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ SKU ‡∏ó‡∏µ‡πà‡∏°‡∏µ:

1. ‚úÖ ‡∏™‡∏£‡πâ‡∏≤‡∏á Subcategories ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞ Part Group
2. üî≤ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ó‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ Subcategory (`image_url`)
3. üî≤ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û assets ‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞ Subcategory
4. üî≤ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `index.html` ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á Subcategories ‡πÄ‡∏õ‡πá‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î
5. üî≤ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `admin.html` ‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Subcategories

---

‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö! Subcategories ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏¢‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏¢‡πà‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ Part Group ‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á üéâ

